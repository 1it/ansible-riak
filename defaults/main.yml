---
riak_version:           2.0.0
riak_custom_package:    yes
riak_package_release:   1

riak_filesystem:    ext4
riak_mountpoint:    /
riak_mount_options: noatime,barrier=0,errors=remount-ro
riak_partition:     /dev/mapper/VolGroup-lv_root
riak_physical_disks:
    - sda

riak_iface:                 eth0
riak_ip_addr:               "{{ hostvars[inventory_hostname]['ansible_' + riak_iface]['ipv4']['address'] }}"
riak_pb_bind_ip:            0.0.0.0
riak_pb_port:               8087
riak_http_bind_ip:          0.0.0.0
riak_http_port:             8098
riak_cluster_mgr_bind_ip:   0.0.0.0
riak_handoff_port:          8099
riak_net_speed:             1Gb

# options
riak_tune_disks:    false
riak_tune_os:       false
riak_scheduler:     noop

riak_conf:
    anti_entropy:                       'active'
    bitcask-data_root:                  '$(platform_data_dir)/bitcask'
    bitcask-io_mode:                    'erlang'
    distributed_cookie:                 'riak'
    dtrace:                             'off'
    erlang-async_threads:               64
    erlang-max_ports:                   65536
    leveldb-maximum_memory-percent:     70
    listener-http-internal:             '{{ riak_http_bind_ip }}:{{ riak_http_port }}'
    listener-protobuf-internal:         '{{ riak_pb_bind_ip }}:{{ riak_pb_port }}'
    log-console-file:                   '$(platform_log_dir)/console.log'
    log-console-level:                  'info'
    log-console:                        'file'
    log-crash-file:                     '$(platform_log_dir)/crash.log'
    log-crash-maximum-message-size:     '64KB'
    log-crash-rotation-keep:            5
    log-crash-rotation:                 '$D0'
    log-crash-size:                     '10MB'
    log-crash:                          'on'
    log-error-file:                     '$(platform_log_dir)/error.log'
    log-syslog:                         'off'
    nodename:                           'riak@{{ riak_ip_addr }}'
    object-format:                      1
    object-siblings-maximum:            100
    object-siblings-warning_threshold:  25
    object-size-maximum:                '50MB'
    object-size-warning_threshold:      '5MB'
    platform_bin_dir:                   '/usr/sbin'
    platform_data_dir:                  '/var/lib/riak'
    platform_etc_dir:                   '/etc'
    platform_lib_dir:                   '{{ riak_usr_lib }}/riak/lib'
    platform_log_dir:                   '/var/log/riak'
    protobuf-backlog:                   128
    riak_control-auth-mode:             'off'
    riak_control:                       'off'
    ring_size:                          64
    search-solr-jmx_port:               8985
    search-solr-jvm_options:            '-d64 -Xms1g -Xmx1g -XX:+UseStringCache -XX:+UseCompressedOops'
    search-solr-port:                   8093
    search-solr-start_timeout:          '30s'
    search:                             'off'
    storage_backend:                    'bitcask'
    strong_consistency:                 'off'
